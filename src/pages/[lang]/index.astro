---
import Layout from '@/layouts/Layout.astro'
import Hero from '@/components/Hero'
import About from '@/components/About.astro'
import TerminalSkills from '@/components/TerminalSkills'
import Projects from '@/components/Projects'

import { getBasics, skillCategories, projects } from '@/data/cv'
import { languages, t } from '@/data/i18n'
import type { Lang } from '@/data/i18n'

export function getStaticPaths() {
  return languages.map(lang => ({ params: { lang } }))
}

const { lang } = Astro.params as { lang: Lang }
const basics = getBasics(lang)
---

<Layout
  title={basics.name}
  description={basics.summary}
  lang={lang}
>
  <Hero
    client:load
    name={basics.name}
    label={basics.label}
    location={`${basics.location.city}, ${basics.location.region}`}
    email={basics.email}
    linkedIn={basics.profiles.find(p => p.network === 'LinkedIn')?.url || ''}
    github={basics.profiles.find(p => p.network === 'GitHub')?.url || ''}
    scrollText={t(lang, 'hero.scroll')}
  />

  <About summary={basics.summary} lang={lang} />

  <Projects
    client:visible
    projects={projects}
    lang={lang}
    title={t(lang, 'section.projects')}
  />

  <TerminalSkills
    client:visible
    categories={skillCategories}
    lang={lang}
    title={t(lang, 'section.skills')}
  />
</Layout>
