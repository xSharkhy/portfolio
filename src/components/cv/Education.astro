---
import type { Education } from '@/data/cv'
import type { Lang } from '@/data/i18n'
import { t } from '@/data/i18n'

interface Props {
  education: Education[]
  lang?: Lang
}

const { education, lang = 'es' } = Astro.props

function formatPeriod(start: string, end: string | null): string {
  if (!end) return `${start} - ${t(lang, 'cv.current')}`
  return `${start} - ${end}`
}
---

<section class="print-section mb-8">
  <h3 class="print-title text-sm font-semibold text-[--color-accent-purple] print:text-black mb-4 uppercase tracking-wider font-mono">
    {t(lang, 'section.education')}
  </h3>

  <div class="space-y-3">
    {education.map(edu => (
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-baseline gap-x-4 border-l-2 border-[--color-border-highlight] print:border-gray-300 pl-3 py-0.5">
        <div class="flex items-baseline gap-2 flex-wrap">
          <span class="font-medium text-[--color-text-bright] print:text-black font-sans">{edu.area}</span>
          <span class="text-sm text-[--color-text-muted] print:text-gray-600">
            {edu.studyType} Â· {edu.institution}
          </span>
        </div>
        <span class="text-xs text-[--color-text-muted] print:text-gray-500 font-mono shrink-0">
          {formatPeriod(edu.startDate, edu.endDate)}
        </span>
      </div>
    ))}
  </div>
</section>
